{"version":3,"file":"js/app.bc72944cb5e15559.js","mappings":"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","sources":["webpack://SophosicChat/webpack/universalModuleDefinition","webpack://SophosicChat/./src/components/ChatWidget/ChatWidget.vue","webpack://SophosicChat/./src/components/ChatWidget/ServiceStatus.vue","webpack://SophosicChat/./src/components/ChatWidget/ServiceStatus.vue?534f","webpack://SophosicChat/./src/components/ChatWidget/SystemStatusPage.vue","webpack://SophosicChat/./src/components/ChatWidget/SystemStatusPage.vue?4098","webpack://SophosicChat/./src/components/ChatWidget/theme.js","webpack://SophosicChat/./src/components/ChatWidget/ChatWidget.vue?0a00","webpack://SophosicChat/./src/components/ChatWidget/index.vue","webpack://SophosicChat/./src/components/ChatWidget/index.vue?91d8","webpack://SophosicChat/webpack/bootstrap","webpack://SophosicChat/webpack/runtime/chunk loaded","webpack://SophosicChat/webpack/runtime/compat get default export","webpack://SophosicChat/webpack/runtime/define property getters","webpack://SophosicChat/webpack/runtime/global","webpack://SophosicChat/webpack/runtime/hasOwnProperty shorthand","webpack://SophosicChat/webpack/runtime/make namespace object","webpack://SophosicChat/webpack/runtime/jsonp chunk loading","webpack://SophosicChat/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SophosicChat\"] = factory();\n\telse\n\t\troot[\"SophosicChat\"] = factory();\n})(self, () => {\nreturn ","/* eslint-disable no-console */\n<template>\n  <div \n    class=\"chat-widget\"\n    :class=\"{ 'is-open': isChatOpen }\"\n  >\n    <!-- Chat Launcher -->\n    <div \n      v-if=\"!isChatOpen\" \n      class=\"chat-launcher\"\n      @click=\"openChat\"\n    >\n      <!-- Recent Chat Preview -->\n      <div \n        v-if=\"previousChats.length > 0 && getMostRecentChatSummary() && !hidePreview\"\n        class=\"recent-chat-preview\"\n        @click.stop=\"resumeRecentChat\"\n      >\n        <div class=\"preview-content\">\n          <div class=\"recent-chat-preview-text\">\n            {{ getMostRecentChatSummary() }}\n          </div>\n          <div class=\"recent-chat-preview-time\">\n            {{ formatDate(previousChats[0]?.timestamp) }}\n          </div>\n        </div>\n        <button \n          class=\"preview-close-button\" \n          @click.stop=\"hidePreview = true\"\n          title=\"Hide preview\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n            <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n          </svg>\n        </button>\n      </div>\n\n      <div \n        class=\"launcher-button\" \n        :class=\"`status-${systemStatus.status.toLowerCase()}`\"\n        :style=\"{ backgroundColor: currentTheme.launcher.background, boxShadow: `0 0 20px ${currentTheme.launcher.shadow}` }\"\n      >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"white\" stroke=\"none\">\n          <path d=\"M12 21a9 9 0 1 0-9-9c0 1.488.36 2.891 1 4.127L3 21l4.873-1c1.236.64 2.64 1 4.127 1Z\" />\n        </svg>\n      </div>\n    </div>\n\n    <!-- Chat Window -->\n    <div v-else class=\"chat-window\" :style=\"{ backgroundColor: currentTheme.messages.background }\">\n      <!-- Add a wrapper div for better mobile viewport handling -->\n      <div class=\"chat-window-inner\">\n        <!-- Custom header slot -->\n        <div class=\"custom-header\" :style=\"{ backgroundColor: currentTheme.header.background, color: currentTheme.header.text }\">\n          <div class=\"header-left\">\n            <button class=\"back-button\" \n                    v-if=\"!showHomeScreen\"\n                    @click=\"showStatusPage ? (showStatusPage = false, showHomeScreen = true) : (messageList.length > 0 ? goToHome() : null)\" \n                    title=\"Back\"\n                    type=\"button\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                <path d=\"M19 12H5M12 19l-7-7 7-7\"/>\n              </svg>\n            </button>\n            <div class=\"header-title-container\">\n              <span class=\"header-title\">\n                {{ showStatusPage ? 'System Status' : (showHomeScreen ? 'Sophia' : 'You & Sophia') }}\n              </span>\n              <button v-if=\"!showStatusPage && showHomeScreen\" \n                      class=\"header-status-button\" \n                      @click=\"showSystemStatus\">\n                <div class=\"header-status-dot\" :class=\"systemStatus.status.toLowerCase()\"></div>\n              </button>\n            </div>\n          </div>\n          <div class=\"header-buttons\">\n            <button v-if=\"!showHomeScreen && !showStatusPage\" \n                    class=\"download-button\" \n                    @click=\"downloadTranscript\" \n                    title=\"Download Chat\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"></path>\n                <polyline points=\"7 10 12 15 17 10\"></polyline>\n                <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"></line>\n              </svg>\n            </button>\n            <button v-if=\"!showHomeScreen && !showStatusPage\" \n                    class=\"reset-button\" \n                    @click=\"resetSession\" \n                    title=\"Start New Chat\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\n                <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\n              </svg>\n            </button>\n            <button class=\"close-button\" @click=\"closeChat\" title=\"Close Chat\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n                <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <!-- Message list slot -->\n        <div class=\"chat-container\" :class=\"{ 'keyboard-open': isKeyboardOpen }\">\n          <!-- Home Screen -->\n          <div v-if=\"showHomeScreen\" class=\"chat-home-screen\">\n            <div class=\"home-content-wrapper\">\n              <h1 class=\"home-greeting\">Hi!</h1>\n              <h2 class=\"home-subtitle\">How can we help?</h2>\n              \n              <!-- Start chat button -->\n              <button class=\"start-chat-button\" @click=\"startNewChat\">\n                Start a new chat\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                  <path d=\"M5 12h14M12 5l7 7-7 7\"/>\n                </svg>\n              </button>\n\n              <service-status \n                ref=\"serviceStatus\"\n                @status-changed=\"onStatusChanged\" \n              />\n              \n              <!-- Previous Chats Section -->\n              <div class=\"previous-chats-section\">\n                <h3 class=\"previous-chats-title\">Recent Conversations</h3>\n                <div v-if=\"previousChats.length > 0\" class=\"chat-list\">\n                  <div v-for=\"chat in displayedChats\" \n                       :key=\"chat.sessionId\" \n                       class=\"chat-item\"\n                       @click=\"loadChat(chat)\">\n                    <div class=\"chat-item-content\">\n                      <div class=\"chat-preview\">{{ getChatPreview(chat) }}</div>\n                      <div class=\"chat-date\">{{ formatDate(chat.timestamp) }}</div>\n                    </div>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                      <path d=\"M9 18l6-6-6-6\"/>\n                    </svg>\n                  </div>\n                  <button \n                    v-if=\"previousChats.length > 5 && !showAllChats\" \n                    class=\"show-more-button\"\n                    @click=\"showAllChats = true\"\n                  >\n                    Show more\n                  </button>\n                </div>\n                <!-- Add empty state message -->\n                <div v-else class=\"empty-chats-message\">\n                  Your recent chats will appear here.\n                </div>\n              </div>\n\n              <!-- Powered by section -->\n              <div class=\"powered-by-section\">\n                <a href=\"https://sophosic.ai\" \n                   target=\"_blank\" \n                   rel=\"noopener noreferrer\"\n                   class=\"powered-by-link\">\n                  Powered by Sophosic\n                </a>\n                <span class=\"separator\">|</span>\n                <button class=\"system-status-link\" \n                        @click=\"showSystemStatus\">\n                  System Status\n                  <span class=\"status-dot\" :class=\"systemStatus.status.toLowerCase()\"></span>\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <!-- System Status Page -->\n          <system-status-page\n            v-else-if=\"showStatusPage\"\n            :services=\"serviceStatus?.services || []\"\n            :overall-status=\"systemStatus\"\n            @back=\"showStatusPage = false; showHomeScreen = true;\"\n          />\n\n          <!-- Active Chat Messages -->\n          <div v-else class=\"conversation-container\">\n            <div class=\"messages-wrapper\">\n              <div v-for=\"(message, idx) in messageList\" \n                   :key=\"idx\" \n                   class=\"message-item\"\n                   :class=\"[\n                     message.author === 'me' ? 'user-message' : 'bot-message',\n                     {\n                       'thread-start': isBotThreadStart(idx),\n                       'has-thread': isBotThreadStart(idx) && hasFollowingBotMessage(idx),\n                       'thread-middle': isBotThreadMiddle(idx),\n                       'thread-end': isBotThreadEnd(idx)\n                     }\n                   ]\">\n                <div class=\"message-content\">\n                  <div v-if=\"message.author !== 'me'\" \n                       class=\"bot-avatar\"\n                       :class=\"{ 'hidden-avatar': isBotThreadMiddle(idx) || isBotThreadEnd(idx) }\">\n                    <span>S</span>\n                    <span class=\"avatar-status-indicator\" \n                          :class=\"systemStatus.status.toLowerCase()\"\n                          :title=\"systemStatus.statusText\">\n                    </span>\n                  </div>\n                  <div class=\"message-bubble\" \n                       v-html=\"renderMarkdown(message.data.text)\">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- User input slot -->\n        <div v-if=\"!showHomeScreen && !showStatusPage\" \n             class=\"user-input\" \n             :class=\"{ 'keyboard-open': isKeyboardOpen }\"\n             :style=\"{ backgroundColor: currentTheme.input.background }\">\n          <div class=\"input-wrapper\" \n               :class=\"{ 'bot-typing': showTypingIndicator === 'bot' }\"\n               @click=\"() => console.log('Typing status:', showTypingIndicator)\">\n            <input \n              type=\"text\" \n              v-model=\"newMessage\" \n              placeholder=\"Type a message...\" \n              @keyup.enter=\"sendMessage\"\n              @focus=\"handleInputFocus\"\n              @blur=\"handleInputBlur\"\n              :style=\"{ color: currentTheme.input.text }\"\n              :disabled=\"showTypingIndicator === 'bot'\"\n            />\n            <button \n              @click=\"sendMessage\"\n              :class=\"{ 'active': newMessage.trim().length > 0 }\"\n              :disabled=\"showTypingIndicator === 'bot'\"\n            >\n              <svg v-if=\"showTypingIndicator === 'bot'\" viewBox=\"0 0 24 24\"></svg>\n              <svg v-else xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                <path d=\"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z\"/>\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { marked } from 'marked';\nimport ServiceStatus from './ServiceStatus.vue';\nimport SystemStatusPage from './SystemStatusPage.vue';\nimport { defaultTheme } from './theme.js';\nconst API_URL = 'https://n8n.sophosic.ai/webhook/e60704a9-52c1-47eb-9037-2344d6b56c21/chat'\n\n/**\n * @typedef {import('./theme').Theme} Theme\n */\n\nconst logError = (error, context) => {\n  if (process.env.NODE_ENV !== 'production') {\n    console.error(`[ChatWidget] ${context}:`, error);\n  }\n  // Could add proper error tracking service here\n  // e.g., Sentry, LogRocket, etc.\n};\n\nexport default {\n  name: 'ChatWidget',\n  \n  components: {\n    ServiceStatus,\n    SystemStatusPage\n  },\n\n  props: {\n    /** @type {{ type: ObjectConstructor, default: () => Partial<Theme> }} */\n    theme: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n\n  data() {\n    return {\n      sessionId: '',\n      participants: [\n        {\n          id: 'bot',\n          name: 'Sophia',\n          imageUrl: `data:image/svg+xml;charset=utf-8,${encodeURIComponent(`\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 30 30\">\n              <circle cx=\"15\" cy=\"15\" r=\"15\" fill=\"#5423E7\"/>\n              <text x=\"15\" y=\"20\" \n                font-family=\"Arial, sans-serif\" \n                font-size=\"16\"\n                fill=\"white\" \n                text-anchor=\"middle\"\n                style=\"pointer-events: none;\">S</text>\n            </svg>\n          `)}`\n        }\n      ],\n      apiUrl: API_URL,\n      messageList: [],\n      newMessagesCount: 0,\n      isChatOpen: false,\n      showTypingIndicator: '',\n      newMessage: '',\n      currentTheme: defaultTheme,\n      showHomeScreen: true,\n      previousChats: [], // Array to store previous chat sessions\n      showAllChats: false,\n      systemStatus: {\n        status: 'OK',\n        statusText: 'Operational'\n      },\n      isStatusHovered: false,\n      showStatusPage: false,\n      serviceStatus: null,\n      chatSummary: '',\n      isKeyboardOpen: false,\n      viewportHeight: window.innerHeight,\n      isMobileDevice: false,\n      hidePreview: false,\n    }\n  },\n\n  computed: {\n    displayedChats() {\n      return this.showAllChats \n        ? this.previousChats \n        : this.previousChats.slice(0, 5);\n    },\n    isBotTyping() {\n      return this.showTypingIndicator === 'bot';\n    }\n  },\n\n  created() {\n    // Merge custom theme with default theme\n    this.currentTheme = {\n      ...defaultTheme,\n      ...this.theme\n    }\n\n    // 1) Load session once (sessionId), and load previous chats\n    this.loadSession();\n    this.loadPreviousChats();\n  },\n\n  async mounted() {\n    // Only do the initial API fetch if we *already* have messages\n    if (this.messageList.length > 0) {\n      try {\n        const response = await fetch(API_URL, {\n          method: 'GET',\n          headers: { 'Accept': 'application/json' },\n          credentials: 'omit'\n        });\n        if (!response.ok) throw new Error(`HTTP error: ${response.status}`);\n\n        const rawText = await response.text();\n        console.log('Initial raw response:', rawText);\n\n        const welcomeMessage = this.extractMessage(rawText);\n        if (welcomeMessage && welcomeMessage !== \"I'm here to help! How can I assist you today? (error)\") {\n          this.addMessage({\n            author: 'bot',\n            type: 'text',\n            data: { text: welcomeMessage }\n          });\n        }\n      } catch (error) {\n        console.error('Error loading initial message:', error);\n      }\n    }\n\n    // Initialize serviceStatus when the component is mounted\n    this.$nextTick(() => {\n      if (this.$refs.serviceStatus) {\n        this.serviceStatus = this.$refs.serviceStatus;\n      }\n    });\n\n    // Check if device is mobile\n    this.isMobileDevice = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n      navigator.userAgent\n    );\n    \n    // Only add mobile-specific handlers if on mobile\n    if (this.isMobileDevice) {\n      // Add event listeners for viewport changes\n      window.addEventListener('resize', this.handleViewportResize);\n      \n      // Handle iOS viewport changes\n      if ('visualViewport' in window) {\n        window.visualViewport.addEventListener('resize', this.handleViewportResize);\n      }\n\n      // Set custom viewport height property\n      const setVH = () => {\n        const vh = window.innerHeight * 0.01;\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\n      };\n      \n      setVH();\n      window.addEventListener('resize', setVH);\n      \n      // Update viewport height when keyboard appears\n      if ('visualViewport' in window) {\n        window.visualViewport.addEventListener('resize', () => {\n          const viewport = window.visualViewport;\n          document.documentElement.style.setProperty(\n            '--keyboard-height',\n            `${window.innerHeight - viewport.height}px`\n          );\n          this.scrollToBottom();\n        });\n      }\n    }\n  },\n\n  beforeUnmount() {\n    // Clean up event listeners\n    window.removeEventListener('resize', this.handleViewportResize);\n    if ('visualViewport' in window) {\n      window.visualViewport.removeEventListener('resize', this.handleViewportResize);\n    }\n  },\n\n  methods: {\n    loadSession() {\n      // Only load or create sessionId\n      const savedSessionId = localStorage.getItem('chatSessionId');\n      if (savedSessionId) {\n        this.sessionId = savedSessionId;\n      } else {\n        this.createNewSession();\n      }\n    },\n\n    createNewSession() {\n      this.sessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\n      localStorage.setItem('chatSessionId', this.sessionId);\n    },\n\n    resetSession() {\n      // Use our archive method instead of duplicating logic\n      this.archiveSession();\n\n      // Clear and start fresh\n      this.messageList = [];\n      this.createNewSession();\n\n      this.addMessage({\n        author: 'bot',\n        type: 'text',\n        data: { \n          text: \"👋 Hi! I'm Sophia, an AI agent here with Valley Connection. How can I help you today?\"\n        }\n      });\n    },\n\n    async onMessageWasSent(message) {\n      this.showTypingIndicator = 'bot';\n\n      // Add timestamp to user message\n      this.addMessage({\n        author: 'me',\n        type: 'text',\n        data: { text: message.data.text },\n        timestamp: new Date().toISOString()\n      });\n\n      try {\n        console.log('Sending message:', message.data.text);\n        const requestBody = JSON.stringify({\n          message: message.data.text,\n          type: 'user_message',\n          timestamp: new Date().toISOString(),\n          metadata: {\n            sessionId: this.sessionId\n          }\n        });\n        \n        const response = await fetch(this.apiUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          },\n          credentials: 'omit',\n          body: requestBody\n        });\n        \n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        console.log('Raw response data:', data);\n        \n        // Get the conversation summary from the response array\n        const conversationSummary = Array.isArray(data) \n          ? data.find(item => item.conversationSummary)?.conversationSummary \n          : (data.conversationSummary || 'Chat session');\n        \n        console.log('Extracted conversation summary:', conversationSummary);\n        \n        if (conversationSummary === 'Chat session') {\n          console.warn('No conversation summary found in response:', data);\n        }\n        \n        // Handle the response\n        const botMessage = this.extractMessage(data);\n        \n        // Send first message immediately\n        if (botMessage.messages.length > 0) {\n          const messageToAdd = {\n            author: 'bot',\n            type: 'text',\n            data: { text: botMessage.messages[0] },\n            summary: conversationSummary,\n            timestamp: new Date().toISOString()\n          };\n          console.log('Adding message with summary:', messageToAdd);\n          await this.addMessage(messageToAdd);\n        }\n\n        // Send remaining messages with delays\n        if (botMessage.messages.length > 1) {\n          for (let i = 1; i < botMessage.messages.length; i++) {\n            await new Promise(resolve => setTimeout(resolve, 1000));\n            await this.addMessage({\n              author: 'bot',\n              type: 'text',\n              data: { text: botMessage.messages[i] },\n              summary: conversationSummary,\n              timestamp: new Date().toISOString()\n            });\n          }\n        }\n\n        // Update the chat summary in previousChats\n        const currentChat = this.previousChats.find(chat => chat.sessionId === this.sessionId);\n        if (currentChat) {\n          currentChat.summary = conversationSummary;\n          this.savePreviousChats();\n        }\n\n      } catch (error) {\n        logError(error, 'Message sending failed');\n        this.addMessage({\n          author: 'bot',\n          type: 'text',\n          data: { text: \"I'm sorry, I'm having trouble connecting. Please try again.\" }\n        });\n      } finally {\n        this.showTypingIndicator = '';\n      }\n    },\n\n    extractMessage(data) {\n      try {\n        let messageText = '';\n        \n        if (Array.isArray(data)) {\n          // Find the object with agentResponse in the array\n          const responseObj = data.find(item => item.agentResponse);\n          messageText = responseObj?.agentResponse || \"I'm here to help! How can I assist you today? (error)\";\n        } else if (data.agentResponse) {\n          messageText = data.agentResponse;\n        } else {\n          messageText = \"I'm here to help! How can I assist you today? (error)\";\n        }\n\n        // Split into multiple messages if there are line breaks, but handle double newlines\n        const messages = messageText\n          .split('\\n')\n          .map(msg => msg.trim())\n          .filter(msg => msg.length > 0)\n          // Remove any remaining \\n characters\n          .map(msg => msg.replace(/\\\\n/g, ''));\n\n        return { messages };\n      } catch (error) {\n        console.error('Error extracting message:', error);\n        return { \n          messages: [\"I'm here to help! How can I assist you today? (error)\"]\n        };\n      }\n    },\n\n    addMessage(message) {\n      // Ensure message has a timestamp in local Phoenix time\n      if (!message.timestamp) {\n        const now = new Date();\n        // Convert to Phoenix time by adjusting for UTC-7\n        const phoenixOffset = -7 * 60; // -7 hours in minutes\n        const phoenixTime = new Date(now.getTime() + (now.getTimezoneOffset() + phoenixOffset) * 60000);\n        message.timestamp = phoenixTime.toISOString();\n      }\n      \n      console.log('Adding message:', message);\n      this.messageList = [...this.messageList, message];\n      \n      // Scroll to bottom after adding message\n      this.$nextTick(() => {\n        const container = document.querySelector('.conversation-container');\n        if (container) {\n          container.scrollTop = container.scrollHeight;\n        }\n      });\n      \n      // Archive after each new message\n      this.archiveSession();\n    },\n\n    openChat() {\n      this.isChatOpen = true;\n      this.showHomeScreen = true;\n      this.newMessagesCount = 0;\n      // Load previous chats when opening the widget\n      this.loadPreviousChats();\n    },\n\n    closeChat() {\n      this.archiveSession();\n      this.isChatOpen = false;\n    },\n\n    handleOnType() {\n      console.log('User is typing...')\n    },\n\n    downloadTranscript() {\n      const transcript = this.messageList.map(msg => {\n        const author = msg.author === 'me' ? 'You' : 'Sophia';\n        // Convert stored ISO timestamp to Phoenix local time\n        const timestamp = msg.timestamp ? \n          new Date(msg.timestamp).toLocaleString('en-US', {\n            timeZone: 'America/Phoenix',\n            hour12: true,\n            year: 'numeric',\n            month: '2-digit',\n            day: '2-digit',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit'\n          }) : \n          new Date().toLocaleString('en-US', {timeZone: 'America/Phoenix'});\n        return `${timestamp} - ${author}: ${msg.data.text}`;\n      }).join('\\n\\n');\n\n      // Create the file content with a header\n      const fileContent = `Chat Transcript with Sophia\\n` +\n        `Generated on: ${new Date().toLocaleString()}\\n` +\n        `Session ID: ${this.sessionId}\\n\\n` +\n        `${transcript}`;\n\n      // Create blob and download link\n      const blob = new Blob([fileContent], { type: 'text/plain' });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `chat-transcript-${new Date().toISOString().slice(0,10)}.txt`;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n    },\n\n    startNewChat() {\n      this.messageList = [];\n      this.createNewSession();\n      \n      // First add the main welcome message\n      this.addMessage({\n        author: 'bot',\n        type: 'text',\n        data: { \n          text: `👋 Hi! I'm Sophia, an AI agent here with **Valley Connection AZ**. I can help you with:\n\n- Information about our business networking community\n- Details about our upcoming events and mastermind groups\n- Membership benefits and opportunities\n- Education & training programs like Real Estate Mastery\n- Locations of our meetings in Phoenix, Gilbert, Queen Creek, and other Valley areas\n- How to get involved with our thriving business community`\n        },\n        isWelcomeMessage: true\n      });\n\n      // Add the final question as a threaded message, also marked as welcome\n      this.$nextTick(() => {\n        this.addMessage({\n          author: 'bot',\n          type: 'text',\n          data: { \n            text: 'How can I assist you today?' \n          },\n          isWelcomeMessage: true,\n          isThreaded: true\n        });\n      });\n      \n      // Set showHomeScreen to false after adding the messages\n      this.$nextTick(() => {\n        this.showHomeScreen = false;\n      });\n    },\n\n    goToHome() {\n      this.archiveSession();\n      this.loadPreviousChats();\n      this.messageList = [];\n      this.isChatOpen = true;\n      this.showHomeScreen = true;\n      this.showAllChats = false;\n    },\n\n    loadPreviousChats() {\n      const savedChats = localStorage.getItem('previousChats');\n      if (savedChats) {\n        try {\n          this.previousChats = JSON.parse(savedChats);\n          // Sort chats by last message timestamp, most recent first\n          this.previousChats.sort((a, b) => {\n            const aLastMsg = a.messages[a.messages.length - 1];\n            const bLastMsg = b.messages[b.messages.length - 1];\n            return new Date(bLastMsg?.timestamp || b.timestamp) - \n                   new Date(aLastMsg?.timestamp || a.timestamp);\n          });\n          console.log('Loaded recent conversations:', this.previousChats);\n        } catch (e) {\n          console.error('Error loading recent conversations:', e);\n          this.previousChats = [];\n        }\n      }\n    },\n\n    savePreviousChats() {\n      // Sort by last message timestamp before saving\n      this.previousChats = this.previousChats\n        .sort((a, b) => {\n          const aLastMsg = a.messages[a.messages.length - 1];\n          const bLastMsg = b.messages[b.messages.length - 1];\n          return new Date(bLastMsg?.timestamp || b.timestamp) - \n                 new Date(aLastMsg?.timestamp || a.timestamp);\n        })\n        .slice(0, 10); // Keep only the 10 most recent\n      \n      localStorage.setItem('previousChats', JSON.stringify(this.previousChats));\n      console.log('Saved recent conversations:', this.previousChats);\n    },\n\n    loadChat(chat) {\n      this.showHomeScreen = false;\n      console.log('Loading chat:', chat);\n      this.sessionId = chat.sessionId;\n      this.messageList = [...chat.messages]; // Create a new array to ensure reactivity\n      this.isChatOpen = true;\n      \n      // Scroll to bottom after loading chat\n      this.$nextTick(() => {\n        const container = document.querySelector('.conversation-container');\n        if (container) {\n          container.scrollTop = container.scrollHeight;\n        }\n      });\n    },\n\n    getChatPreview(chat) {\n      // First check if we have a valid summary\n      if (chat.summary && chat.summary !== 'Chat session') {\n        return chat.summary.length > 50 ? chat.summary.substring(0, 50) + '...' : chat.summary;\n      }\n      \n      // If no summary, find the first non-welcome message\n      const firstNonWelcomeMessage = chat.messages.find(msg => !msg.isWelcomeMessage);\n      const previewText = firstNonWelcomeMessage?.data?.text || 'New chat';\n      \n      return previewText.length > 50 ? previewText.substring(0, 50) + '...' : previewText;\n    },\n\n    formatDate(timestamp) {\n      const date = new Date(timestamp);\n      const now = new Date();\n      const diffInMs = now - date;\n      const diffInDays = Math.floor(diffInMs / (1000 * 60 * 60 * 24));\n      const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));\n      const diffInMinutes = Math.floor(diffInMs / (1000 * 60));\n      \n      // Format time\n      const time = date.toLocaleTimeString('en-US', { \n        hour: 'numeric', \n        minute: '2-digit',\n        hour12: true \n      });\n      \n      // If less than 1 minute ago\n      if (diffInMinutes < 1) {\n        return 'Just now';\n      }\n      \n      // If less than 1 hour ago\n      if (diffInHours < 1) {\n        return `${diffInMinutes}m ago`;\n      }\n      \n      // If less than 24 hours ago\n      if (diffInDays < 1) {\n        return `${diffInHours}h ago`;\n      }\n      \n      // If today (after midnight)\n      if (date.toDateString() === now.toDateString()) {\n        return `Today at ${time}`;\n      }\n      \n      // If yesterday\n      const yesterday = new Date(now);\n      yesterday.setDate(yesterday.getDate() - 1);\n      if (date.toDateString() === yesterday.toDateString()) {\n        return `Yesterday at ${time}`;\n      }\n      \n      // If within the last 7 days\n      if (diffInDays < 7) {\n        return date.toLocaleDateString('en-US', { weekday: 'long' });\n      }\n      \n      // If within the current year\n      if (date.getFullYear() === now.getFullYear()) {\n        return date.toLocaleDateString('en-US', { \n          month: 'short', \n          day: 'numeric'\n        });\n      }\n      \n      // If more than a year ago\n      return date.toLocaleDateString('en-US', { \n        month: 'short', \n        day: 'numeric',\n        year: 'numeric'\n      });\n    },\n\n    archiveSession() {\n      if (this.messageList.length > 0) {\n        // Get all bot messages with summaries, excluding welcome messages\n        const botMessages = this.messageList.filter(msg => \n          msg.author === 'bot' && \n          msg.summary && \n          msg.summary !== 'Chat session' &&\n          !msg.isWelcomeMessage\n        );\n        \n        // Get the most recent summary, or fall back to finding a meaningful message\n        let chatSummary = 'Chat session';\n        \n        if (botMessages.length > 0) {\n          // Use the most recent valid summary\n          chatSummary = botMessages[botMessages.length - 1].summary;\n        } else {\n          // Try to find the first non-welcome message as a fallback\n          const firstNonWelcomeMessage = this.messageList.find(msg => !msg.isWelcomeMessage);\n          if (firstNonWelcomeMessage) {\n            chatSummary = firstNonWelcomeMessage.data.text.substring(0, 50);\n          }\n        }\n\n        // Get timestamp from the last message instead of current time\n        const lastMessage = this.messageList[this.messageList.length - 1];\n        const timestamp = lastMessage?.timestamp || new Date().toISOString();\n        \n        // Find existing chat with this sessionId\n        const existingChatIndex = this.previousChats.findIndex(\n          chat => chat.sessionId === this.sessionId\n        );\n        \n        const chatToSave = {\n          sessionId: this.sessionId,\n          messages: this.messageList,\n          timestamp: timestamp, // Use last message timestamp\n          summary: chatSummary\n        };\n\n        // Update or add the chat\n        if (existingChatIndex !== -1) {\n          // Update existing chat\n          this.previousChats[existingChatIndex] = chatToSave;\n        } else {\n          // Add new chat to the beginning\n          this.previousChats = [chatToSave, ...this.previousChats];\n        }\n        \n        this.savePreviousChats();\n        console.log('Archived chat with summary:', chatSummary, 'timestamp:', timestamp);\n      }\n    },\n\n    sendMessage() {\n      if (!this.newMessage.trim()) return;\n      \n      const message = {\n        data: { text: this.newMessage.trim() }\n      };\n      \n      // Clear input\n      this.newMessage = '';\n      \n      // Let onMessageWasSent handle the message addition\n      this.onMessageWasSent(message);\n    },\n\n    renderMarkdown(text) {\n      try {\n        // Clean up the text first\n        const cleanText = text\n          // Replace escaped newlines with actual newlines\n          .replace(/\\\\n/g, '\\n')\n          // Clean up any HTML entities\n          .replace(/&amp;/g, '&')\n          .replace(/&lt;/g, '<')\n          .replace(/&gt;/g, '>')\n          .replace(/&#39;/g, \"'\")\n          .replace(/&quot;/g, '\"')\n          .trim();\n\n        // Configure marked options\n        marked.setOptions({\n          breaks: true,  // Convert \\n to <br>\n          sanitize: false,  // Allow HTML\n          gfm: true,  // GitHub Flavored Markdown\n        });\n        \n        return marked(cleanText);\n      } catch (error) {\n        console.error('Markdown rendering error:', error);\n        return text;  // Fallback to plain text if markdown fails\n      }\n    },\n\n    isBotThreadStart(idx) {\n      return (\n        this.messageList[idx].author !== 'me' && \n        (idx === 0 || this.messageList[idx - 1].author === 'me')\n      );\n    },\n\n    isBotThreadMiddle(idx) {\n      return (\n        this.messageList[idx].author !== 'me' &&\n        idx > 0 &&\n        idx < this.messageList.length - 1 &&\n        this.messageList[idx - 1].author !== 'me' &&\n        this.messageList[idx + 1].author !== 'me'\n      );\n    },\n\n    isBotThreadEnd(idx) {\n      return (\n        this.messageList[idx].author !== 'me' &&\n        (idx === this.messageList.length - 1 || this.messageList[idx + 1].author === 'me') &&\n        idx > 0 &&\n        this.messageList[idx - 1].author !== 'me'\n      );\n    },\n\n    onStatusChanged(status) {\n      this.systemStatus = status;\n    },\n\n    showSystemStatus() {\n      // Get the ServiceStatus component instance\n      this.serviceStatus = this.$refs.serviceStatus;\n      \n      // Only proceed if we have the services data\n      if (this.serviceStatus) {\n        this.showStatusPage = true;\n        this.showHomeScreen = false;\n      } else {\n        console.error('ServiceStatus component not found');\n      }\n    },\n\n    getSummaryText() {\n      if (this.systemStatus.status === 'OK') {\n        return 'All Systems Operational';\n      } else if (this.systemStatus.status === 'WARN') {\n        return 'Degraded Performance';\n      } else if (this.systemStatus.status === 'CRIT') {\n        return 'Service Disruption';\n      }\n      return 'Checking Status...';\n    },\n\n    handleInputFocus() {\n      if (!this.isMobileDevice) return;\n      \n      this.isKeyboardOpen = true;\n      this.$nextTick(() => {\n        // Keep messages in viewport when keyboard opens\n        const messagesWrapper = document.querySelector('.messages-wrapper');\n        if (messagesWrapper) {\n          const messages = messagesWrapper.querySelectorAll('.message-item');\n          if (messages.length <= 3) { // For few messages\n            window.scrollTo(0, 0);\n          } else {\n            const lastMessage = messages[messages.length - 1];\n            lastMessage.scrollIntoView({ behavior: 'smooth' });\n          }\n        }\n      });\n    },\n\n    handleInputBlur() {\n      if (!this.isMobileDevice) return;\n      this.isKeyboardOpen = false;\n    },\n\n    handleViewportResize() {\n      if (!this.isMobileDevice) return;\n      \n      const newHeight = window.visualViewport?.height || window.innerHeight;\n      const keyboardHeight = this.viewportHeight - newHeight;\n      if (newHeight < this.viewportHeight) {\n        this.isKeyboardOpen = true;\n        document.documentElement.style.setProperty('--keyboard-height', `${keyboardHeight}px`);\n        // Adjust scroll position for few messages\n        const messages = document.querySelectorAll('.message-item');\n        if (messages.length <= 3) {\n          window.scrollTo(0, 0);\n        }\n      } else {\n        this.isKeyboardOpen = false;\n        document.documentElement.style.setProperty('--keyboard-height', '0px');\n      }\n      this.viewportHeight = newHeight;\n    },\n\n    scrollToBottom() {\n      this.$nextTick(() => {\n        const container = document.querySelector('.conversation-container');\n        if (container) {\n          container.scrollTop = container.scrollHeight;\n        }\n      });\n    },\n\n    getMostRecentChatPreview() {\n      return this.getMostRecentChatSummary();\n    },\n\n    resumeRecentChat() {\n      if (this.previousChats.length === 0) return;\n      \n      const recentChat = this.previousChats[0];\n      this.loadChat(recentChat);\n      this.isChatOpen = true;\n      this.showHomeScreen = false;\n    },\n\n    getMostRecentChatSummary() {\n      if (this.previousChats.length === 0) return '';\n      const recentChat = this.previousChats[0];\n      \n      // Only return summary if API has provided one\n      if (recentChat.summary) {\n        return recentChat.summary;\n      }\n      return 'New chat'; // Default to \"New chat\" when no summary exists\n    },\n\n    hasFollowingBotMessage(idx) {\n      // Check if the next message exists and is from the bot\n      return idx < this.messageList.length - 1 && this.messageList[idx + 1].author !== 'me';\n    }\n  },\n}\n</script>\n\n<style>\n/* Add these styles to your CSS */\n.chat-window {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  height: -webkit-fill-available;\n  will-change: transform;\n  contain: content;\n}\n\n.chat-window-inner {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n}\n\n.conversation-container {\n  position: relative;\n  flex: 1;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  padding: 16px;\n  min-height: 0;\n  background-color: var(--chat-background);\n  display: flex;\n  flex-direction: column;\n}\n\n.messages-wrapper {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  margin-top: auto;\n  justify-content: flex-start;\n  contain: layout style;\n}\n\n.chat-container {\n  flex: 1;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n\n.chat-container.keyboard-open {\n  transform: translateY(calc(-1 * var(--keyboard-height, 270px)));\n  transition: transform 0.3s ease;\n  height: calc(100% - var(--keyboard-height, 270px));\n}\n\n.custom-header {\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  background: var(--chat-header-bg);\n  color: var(--chat-header-text);\n}\n\n.user-input {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 10;\n  background: var(--chat-input-bg);\n  padding: 8px;\n  padding-bottom: env(safe-area-inset-bottom, 8px);\n  transition: transform 0.3s ease;\n}\n\n.user-input.keyboard-open {\n  bottom: env(keyboard-inset-height, 0);\n  padding-bottom: env(safe-area-inset-bottom, 8px);\n  transform: translateY(calc(-1 * var(--keyboard-height, 270px)));\n}\n\n@media screen and (max-width: 600px) {\n  .chat-window {\n    height: 100%;\n    height: -webkit-fill-available;\n  }\n  \n  .messages-wrapper {\n    padding-bottom: env(safe-area-inset-bottom, 16px);\n  }\n  \n  .chat-container.keyboard-open .messages-wrapper {\n    transform: translateY(0);\n  }\n  \n  /* Ensure messages stay visible with few messages */\n  .conversation-container:only-child {\n    justify-content: flex-start;\n  }\n}\n\n/* Add viewport height calculation on mount */\n:root {\n  --vh: 1vh;\n\n  /* Theme CSS Variables */\n  --chat-primary: v-bind('currentTheme.primary');\n  --chat-secondary: v-bind('currentTheme.secondary');\n  --chat-background: v-bind('currentTheme.messages.background');\n  \n  /* Header */\n  --chat-header-bg: v-bind('currentTheme.header.background');\n  --chat-header-text: v-bind('currentTheme.header.text');\n  --chat-header-button-bg: v-bind('currentTheme.header.buttons.background');\n  --chat-header-button-hover: v-bind('currentTheme.header.buttons.hover');\n  \n  /* Messages */\n  --chat-message-user-bg: v-bind('currentTheme.messages.user.background');\n  --chat-message-user-text: v-bind('currentTheme.messages.user.text');\n  --chat-message-bot-bg: v-bind('currentTheme.messages.bot.background');\n  --chat-message-bot-text: v-bind('currentTheme.messages.bot.text');\n  --chat-message-timestamp: v-bind('currentTheme.messages.timestamp');\n  \n  /* Input */\n  --chat-input-bg: v-bind('currentTheme.input.background');\n  --chat-input-text: v-bind('currentTheme.input.text');\n  --chat-input-placeholder: v-bind('currentTheme.input.placeholder');\n  --chat-input-border: v-bind('currentTheme.input.border');\n  --chat-input-button-default: v-bind('currentTheme.input.button.default');\n  --chat-input-button-active: v-bind('currentTheme.input.button.active');\n  \n  /* Preview */\n  --chat-preview-bg: v-bind('currentTheme.preview.background');\n  --chat-preview-text: v-bind('currentTheme.preview.text');\n  --chat-preview-timestamp: v-bind('currentTheme.preview.timestamp');\n  --chat-preview-shadow: v-bind('currentTheme.preview.shadow');\n}\n\n/* Markdown styling */\n.message-bubble ul {\n  margin: 0.5em 0;\n  padding-left: 1.5em;\n}\n\n.message-bubble li {\n  margin: 0.25em 0;\n}\n\n.message-bubble p {\n  margin: 0.5em 0;\n}\n\n.message-bubble p:first-child {\n  margin-top: 0;\n}\n\n.message-bubble p:last-child {\n  margin-bottom: 0;\n}\n\n/* Only apply keyboard adjustments on mobile */\n@media screen and (max-width: 600px) {\n  .chat-container.keyboard-open {\n    transform: translateY(calc(-1 * var(--keyboard-height, 270px)));\n    transition: transform 0.3s ease;\n    height: calc(100% - var(--keyboard-height, 270px));\n  }\n\n  .user-input.keyboard-open {\n    bottom: env(keyboard-inset-height, 0);\n    padding-bottom: env(safe-area-inset-bottom, 8px);\n    transform: translateY(calc(-1 * var(--keyboard-height, 270px)));\n  }\n}\n\n/* Desktop specific styles */\n@media screen and (min-width: 601px) {\n  .chat-container {\n    height: 100%;\n  }\n\n  .user-input {\n    position: sticky;\n    bottom: 0;\n    transform: none !important;\n  }\n\n  .messages-wrapper {\n    margin-top: 0;\n  }\n}\n\n/* Add styles for the floating preview */\n.recent-chat-preview {\n  position: absolute !important;\n  bottom: calc(100% + 16px) !important;  /* Position above launcher */\n  right: 0 !important;\n  background: var(--chat-preview-bg) !important;\n  padding: 12px 16px !important;\n  border-radius: 12px !important;\n  box-shadow: 0 4px 12px var(--chat-preview-shadow) !important;\n  width: 280px !important;\n  cursor: pointer !important;\n  transition: all 0.2s ease !important;\n}\n\n.recent-chat-preview-text {\n  font-family: 'Work Sans', sans-serif !important;\n  font-size: 14px !important;\n  color: var(--chat-preview-text) !important;\n  margin: 0 !important;\n  white-space: nowrap !important;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n}\n\n.recent-chat-preview-time {\n  font-family: 'Work Sans', sans-serif !important;\n  font-size: 12px !important;\n  color: var(--chat-preview-timestamp) !important;\n  margin-top: 4px !important;\n}\n\n/* Message Styles */\n.message-item {\n  display: flex;\n  flex-direction: column;\n}\n\n.message-content {\n  display: flex;\n  gap: 8px;\n  align-items: flex-start;\n}\n\n.user-message .message-bubble {\n  background-color: var(--chat-message-user-bg);\n  color: var(--chat-message-user-text);\n  margin-left: auto;\n}\n\n.bot-message .message-bubble {\n  background-color: var(--chat-message-bot-bg);\n  color: var(--chat-message-bot-text);\n}\n\n.message-bubble {\n  padding: 12px 16px;\n  border-radius: 12px;\n  max-width: 80%;\n  word-break: break-word;\n}\n\n/* Input Styling */\n.input-wrapper {\n  display: flex;\n  gap: 8px;\n  padding: 8px;\n  border: 1px solid var(--chat-input-border);\n  border-radius: 8px;\n  background: var(--chat-input-bg);\n}\n\n.input-wrapper input {\n  flex: 1;\n  border: none;\n  outline: none;\n  background: transparent;\n  color: var(--chat-input-text);\n}\n\n.input-wrapper input::placeholder {\n  color: var(--chat-input-placeholder);\n}\n\n.input-wrapper button {\n  padding: 8px;\n  border: none;\n  background: transparent;\n  color: var(--chat-input-button-default);\n  cursor: pointer;\n  transition: color 0.2s ease;\n}\n\n.input-wrapper button.active {\n  color: var(--chat-input-button-active);\n}\n\n/* Header Button Styling */\n.custom-header button {\n  padding: 8px;\n  border: none;\n  border-radius: 4px;\n  background: var(--chat-header-button-bg);\n  color: var(--chat-header-text);\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n}\n\n.custom-header button:hover {\n  background: var(--chat-header-button-hover);\n}\n</style>","<template>\n  <div v-if=\"overallStatus.status !== 'OK'\" class=\"service-status\">\n    <!-- Collapsible header -->\n    <div class=\"status-header\" @click=\"isExpanded = !isExpanded\">\n      <div class=\"status-summary\">\n        <span class=\"dot\" :class=\"overallStatus.status.toLowerCase()\"></span>\n        <h3 class=\"status-title\">\n          {{ isExpanded ? 'Service Status' : getSummaryText() }}\n        </h3>\n      </div>\n      <button class=\"expand-button\" :class=\"{ 'is-expanded': isExpanded }\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n          <polyline points=\"6 9 12 15 18 9\"></polyline>\n        </svg>\n      </button>\n    </div>\n\n    <!-- Expandable content -->\n    <div class=\"status-grid\" v-show=\"isExpanded\">\n      <div v-for=\"service in services\" \n           :key=\"service.name\" \n           class=\"status-item\">\n        <div class=\"status-icon\">\n          <span class=\"dot\" :class=\"service.status.toLowerCase()\"></span>\n        </div>\n        <div class=\"status-details\">\n          <span class=\"service-name\">\n            {{ service.name }}\n            <a :href=\"service.statusPageUrl\" \n               target=\"_blank\" \n               rel=\"noopener noreferrer\" \n               class=\"status-link\"\n               title=\"View detailed status\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"></path>\n                <polyline points=\"15 3 21 3 21 9\"></polyline>\n                <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\"></line>\n              </svg>\n            </a>\n          </span>\n          <span class=\"status-text\">{{ service.statusText }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ServiceStatus',\n  data() {\n    return {\n      isExpanded: false,\n      services: [\n        {\n          name: 'Primary AI Agent',\n          status: 'OK',\n          statusText: 'Operational',\n          endpoint: 'https://api.anthropic.com/v1/messages',\n          model: 'claude-3-5-sonnet-20241022',\n          statusPageUrl: 'https://status.anthropic.com/'\n        },\n        {\n          name: 'Knowledge Base',\n          status: 'OK',\n          statusText: 'Operational',\n          components: [\n            {\n              name: 'Vector Database',\n              endpoint: 'https://api.pinecone.io',\n              namespace: 'company-knowledgebase',\n              statusPageUrl: 'https://status.pinecone.io/'\n            },\n            {\n              name: 'Embeddings Service',\n              endpoint: 'https://api.openai.com/v1/embeddings',\n              model: 'text-embedding-ada-002',\n              statusPageUrl: 'https://status.openai.com/'\n            },\n            {\n              name: 'LLM Processing',\n              endpoint: 'https://api.groq.com/v1/chat/completions',\n              model: 'llama-3.3-70b-versatile',\n              statusPageUrl: 'https://groqstatus.com/',\n              details: {\n                contextLength: '128k',\n                speed: '276 tokens/sec',\n                pricing: {\n                  input: '$0.59/M tokens',\n                  output: '$0.79/M tokens'\n                }\n              }\n            }\n          ],\n          statusPageUrl: 'https://status.pinecone.io/'\n        },\n        {\n          name: 'Sophosic Backend',\n          status: 'OK',\n          statusText: 'Operational',\n          endpoint: 'https://n8n.sophosic.ai',\n          statusPageUrl: 'https://status.render.com/'\n        }\n      ],\n      checkInterval: null\n    }\n  },\n  methods: {\n    async checkServiceStatus(service) {\n      try {\n        if (service.name === 'Knowledge Base') {\n          // Check all components of the Knowledge Base\n          let componentStatuses = await Promise.all(service.components.map(async (component) => {\n            let statusUrl;\n            let status = 'OK';\n            let statusText = 'Operational';\n\n            switch(component.name) {\n              case 'Vector Database':\n                statusUrl = 'https://status.pinecone.io/api/v2/status.json';\n                break;\n              case 'Embeddings Service':\n                statusUrl = 'https://status.openai.com/api/v2/status.json';\n                break;\n              case 'LLM Processing':\n                statusUrl = 'https://groqstatus.com/api/v2/status.json';\n                break;\n            }\n\n            try {\n              const response = await fetch(statusUrl);\n              const data = await response.json();\n              \n              if (data.status.indicator === 'none') {\n                status = 'OK';\n                statusText = 'Operational';\n              } else if (data.status.indicator === 'minor') {\n                status = 'WARN';\n                statusText = 'Degraded Performance';\n              } else {\n                status = 'CRIT';\n                statusText = 'Service Disruption';\n              }\n            } catch (error) {\n              console.error(`Error checking ${component.name} status:`, error);\n              status = 'WARN';\n              statusText = 'Status Unknown';\n            }\n\n            return { status, statusText };\n          }));\n\n          // Determine overall Knowledge Base status\n          if (componentStatuses.some(s => s.status === 'CRIT')) {\n            service.status = 'CRIT';\n            service.statusText = 'Service Disruption';\n          } else if (componentStatuses.some(s => s.status === 'WARN')) {\n            service.status = 'WARN';\n            service.statusText = 'Degraded Performance';\n          } else if (componentStatuses.every(s => s.status === 'OK')) {\n            service.status = 'OK';\n            service.statusText = 'Operational';\n          } else {\n            service.status = 'WARN';\n            service.statusText = 'Partially Operational';\n          }\n        } else {\n          // Handle other services as before\n          let statusUrl;\n          switch(service.name) {\n            case 'Primary AI Agent':\n              statusUrl = 'https://status.anthropic.com/api/v2/status.json';\n              break;\n            case 'Sophosic Backend':\n              statusUrl = 'https://status.render.com/api/v2/status.json';\n              break;\n          }\n\n          if (statusUrl) {\n            const response = await fetch(statusUrl);\n            const data = await response.json();\n            this.updateServiceStatus(service, data);\n          }\n        }\n      } catch (error) {\n        console.error(`Error checking ${service.name} status:`, error);\n        service.status = 'WARN';\n        service.statusText = 'Status Unknown';\n      }\n    },\n\n    updateServiceStatus(service, data) {\n      if (data.status.indicator === 'none') {\n        service.status = 'OK';\n        service.statusText = 'Operational';\n      } else if (data.status.indicator === 'minor') {\n        service.status = 'WARN';\n        service.statusText = 'Degraded Performance';\n      } else {\n        service.status = 'CRIT';\n        service.statusText = 'Service Disruption';\n      }\n    },\n    \n    async checkAllServices() {\n      for (const service of this.services) {\n        await this.checkServiceStatus(service);\n      }\n    },\n\n    getSummaryText() {\n      if (this.overallStatus.status === 'OK') {\n        return 'All Systems Operational';\n      } else if (this.overallStatus.status === 'WARN') {\n        return 'Degraded Performance';\n      } else if (this.overallStatus.status === 'CRIT') {\n        return 'Service Disruption';\n      }\n      return 'Checking System Status...';\n    }\n  },\n  mounted() {\n    // Check status immediately\n    this.checkAllServices();\n    \n    // Then check every 5 minutes\n    this.checkInterval = setInterval(() => {\n      this.checkAllServices();\n    }, 5 * 60 * 1000);\n  },\n  beforeUnmount() {\n    if (this.checkInterval) {\n      clearInterval(this.checkInterval);\n    }\n  },\n  computed: {\n    overallStatus() {\n      // If any service is CRIT, overall status is CRIT\n      if (this.services.some(service => service.status === 'CRIT')) {\n        return {\n          status: 'CRIT',\n          statusText: 'Service Disruption'\n        };\n      }\n      // If any service is WARN, overall status is WARN\n      if (this.services.some(service => service.status === 'WARN')) {\n        return {\n          status: 'WARN',\n          statusText: 'Degraded Performance'\n        };\n      }\n      // If all services are OK, overall status is OK\n      if (this.services.every(service => service.status === 'OK')) {\n        return {\n          status: 'OK',\n          statusText: 'Operational'\n        };\n      }\n      // Default status if any service is unknown\n      return {\n        status: 'WARN',\n        statusText: 'Partially Operational'\n      };\n    }\n  },\n  watch: {\n    overallStatus: {\n      handler(newStatus) {\n        this.$emit('status-changed', newStatus);\n      },\n      deep: true\n    }\n  }\n}\n</script>","import { render } from \"./ServiceStatus.vue?vue&type=template&id=03185770\"\nimport script from \"./ServiceStatus.vue?vue&type=script&lang=js\"\nexport * from \"./ServiceStatus.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"chat-container\">\n    <div class=\"system-status-content\">\n      <div class=\"status-card\">\n        <div class=\"overall-status\" :class=\"overallStatus.status.toLowerCase()\">\n          <span class=\"dot\" :class=\"overallStatus.status.toLowerCase()\"></span>\n          <h2>{{ getSummaryText() }}</h2>\n        </div>\n\n        <div class=\"services-grid\">\n          <div v-for=\"service in services\" \n               :key=\"service.name\" \n               class=\"status-item\">\n            <div class=\"status-icon\">\n              <span class=\"dot\" :class=\"service.status.toLowerCase()\"></span>\n            </div>\n            <div class=\"status-details\">\n              <div class=\"service-header\">\n                <div class=\"service-title\">\n                  <span class=\"service-name\">{{ service.name }}</span>\n                </div>\n                <button v-if=\"service.components\"\n                        class=\"status-link expand-button\"\n                        :class=\"{ 'is-expanded': expandedServices[service.name] }\"\n                        @click=\"toggleService(service.name)\"\n                        title=\"View components\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                    <polyline points=\"6 9 12 15 18 9\"></polyline>\n                  </svg>\n                </button>\n                <a v-else \n                   :href=\"service.statusPageUrl\" \n                   target=\"_blank\" \n                   rel=\"noopener noreferrer\" \n                   class=\"status-link\"\n                   title=\"View detailed status\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                    <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"></path>\n                    <polyline points=\"15 3 21 3 21 9\"></polyline>\n                    <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\"></line>\n                  </svg>\n                </a>\n              </div>\n              <span class=\"status-text\">{{ service.statusText }}</span>\n              \n              <div v-if=\"service.components\" \n                   class=\"service-components\"\n                   :class=\"{ 'expanded': expandedServices[service.name] }\">\n                <div v-for=\"component in service.components\" \n                     :key=\"component.name\"\n                     class=\"component-item\">\n                  <div class=\"component-header\">\n                    <span class=\"component-name\">{{ component.name }}</span>\n                    <a :href=\"component.statusPageUrl\"\n                       target=\"_blank\"\n                       rel=\"noopener noreferrer\"\n                       class=\"status-link\"\n                       title=\"View provider status\">\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                        <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"></path>\n                        <polyline points=\"15 3 21 3 21 9\"></polyline>\n                        <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\"></line>\n                      </svg>\n                    </a>\n                  </div>\n                  <div class=\"component-details\">\n                    <span class=\"component-model\">{{ component.model || component.namespace }}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"powered-by-section\">\n        <a href=\"https://sophosic.ai\" \n           target=\"_blank\" \n           rel=\"noopener noreferrer\"\n           class=\"powered-by-link\">\n          Powered by Sophosic\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SystemStatusPage',\n  props: {\n    services: {\n      type: Array,\n      required: true\n    },\n    overallStatus: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      expandedServices: {}\n    }\n  },\n  methods: {\n    getSummaryText() {\n      if (this.overallStatus.status === 'OK') {\n        return 'All Systems Operational';\n      } else if (this.overallStatus.status === 'WARN') {\n        return 'Degraded Performance';\n      } else if (this.overallStatus.status === 'CRIT') {\n        return 'Service Disruption';\n      }\n      return 'Checking System Status...';\n    },\n    toggleService(serviceName) {\n      this.expandedServices[serviceName] = !this.expandedServices[serviceName];\n      this.$forceUpdate(); // Ensure reactivity\n    }\n  }\n}\n</script>\n\n<style scoped>\n.chat-container {\n  flex: 1;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n\n.system-status-content {\n  flex: 1;\n  padding: 24px;\n  padding-bottom: 0;\n  background: #F8F9FE;\n  display: flex;\n  flex-direction: column;\n}\n\n.status-card {\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n  margin-bottom: auto;\n}\n\n.services-grid {\n  padding: 16px;\n}\n\n.powered-by-section {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 16px;\n}\n\n.powered-by-link {\n  color: #666666;\n  text-decoration: none;\n  font-family: 'Work Sans', sans-serif;\n  font-size: 14px;\n  transition: color 0.2s ease;\n}\n\n.powered-by-link:hover {\n  color: #5423E7;\n}\n\n.services-grid {\n  padding: 16px;\n}\n\n.status-item {\n  display: flex;\n  align-items: flex-start;\n  padding: 16px;\n  border-radius: 8px;\n  transition: background-color 0.2s ease;\n}\n\n.status-item:hover {\n  background-color: #F3F4F6;\n}\n\n.status-icon {\n  margin-right: 12px;\n  padding-top: 4px;\n}\n\n.status-details {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.service-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8px;\n}\n\n.service-name {\n  font-size: 16px;\n  font-weight: 500;\n  color: #1E1B3C;\n}\n\n.status-details .status-text {\n  font-size: 14px;\n  color: #6B7280;\n  opacity: 1;\n  transform: none;\n  white-space: normal;\n  display: block;\n  margin-top: 2px;\n}\n\n.status-link {\n  display: inline-flex;\n  align-items: center;\n  color: #1E1B3C;\n  opacity: 0.4;\n  transition: opacity 0.2s ease;\n}\n\n.status-link:hover {\n  opacity: 0.8;\n}\n\n.dot {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  display: inline-block;\n}\n\n.dot.ok {\n  background-color: #10B981;\n}\n\n.dot.warn {\n  background-color: #F59E0B;\n}\n\n.dot.crit {\n  background-color: #EF4444;\n}\n\n.overall-status {\n  padding: 24px;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n}\n\n.overall-status h2 {\n  font-size: 18px;\n  font-weight: 600;\n  margin: 0;\n  color: #1E1B3C;\n}\n\n.service-title {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex: 1;\n}\n\n.expand-button {\n  background: none;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  color: #1E1B3C;\n  opacity: 0.4;\n  transition: all 0.2s ease;\n}\n\n.expand-button:hover {\n  opacity: 0.8;\n}\n\n.expand-button.is-expanded svg {\n  transform: rotate(180deg);\n}\n\n.service-components {\n  max-height: 0;\n  overflow: hidden;\n  transition: max-height 0.3s ease-out;\n  margin-top: 0;\n}\n\n.service-components.expanded {\n  max-height: 500px; /* Adjust based on expected content height */\n  margin-top: 12px;\n}\n\n.component-item {\n  padding: 8px 12px;\n  margin-left: 8px;\n  border-left: 1px solid #E5E7EB;\n  font-size: 14px;\n}\n\n.component-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.component-name {\n  color: #4B5563;\n  font-weight: 500;\n}\n\n.component-details {\n  margin-top: 2px;\n}\n\n.component-model {\n  color: #6B7280;\n  font-size: 12px;\n}\n\n/* Ensure smooth transitions */\n.expand-button svg {\n  transition: transform 0.2s ease;\n}\n</style>\n","import { render } from \"./SystemStatusPage.vue?vue&type=template&id=3826e6aa&scoped=true\"\nimport script from \"./SystemStatusPage.vue?vue&type=script&lang=js\"\nexport * from \"./SystemStatusPage.vue?vue&type=script&lang=js\"\n\nimport \"./SystemStatusPage.vue?vue&type=style&index=0&id=3826e6aa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3826e6aa\"]])\n\nexport default __exports__","// Base color palette\nconst colors = {\n  primary: '#5423E7',\n  secondary: '#1E1B3C',\n  background: '#F8F9FE',\n  white: '#FFFFFF',\n  gray: {\n    100: '#F8F9FE',\n    200: '#EEF0F6',\n    300: '#E2E4ED',\n    400: '#9CA3AF',\n    500: '#6B7280',\n    600: '#4B5563',\n    700: '#374151',\n    800: '#1E1B3C',\n  },\n  status: {\n    success: '#10B981',\n    warning: '#F59E0B', \n    error: '#EF4444',\n  }\n}\n\n// Theme configuration\nexport const defaultTheme = {\n  header: {\n    background: colors.secondary,\n    text: colors.white,\n    icons: colors.white,\n    buttons: {\n      background: 'rgba(255, 255, 255, 0.1)',\n      hover: 'rgba(255, 255, 255, 0.2)',\n    }\n  },\n  launcher: {\n    background: colors.primary,\n    shadow: 'rgba(84, 35, 231, 0.1)',\n  },\n  messages: {\n    background: colors.background,\n    user: {\n      background: colors.primary,\n      text: colors.white,\n    },\n    bot: {\n      background: colors.white,\n      text: colors.secondary,\n    },\n    timestamp: colors.gray[500],\n  },\n  input: {\n    background: colors.background,\n    text: colors.secondary,\n    placeholder: colors.gray[500],\n    border: colors.gray[300],\n    button: {\n      default: colors.gray[400],\n      active: colors.primary,\n    }\n  },\n  preview: {\n    background: colors.white,\n    text: colors.secondary,\n    timestamp: colors.gray[500],\n    shadow: 'rgba(0, 0, 0, 0.1)',\n  },\n  status: {\n    ok: colors.status.success,\n    warn: colors.status.warning,\n    crit: colors.status.error,\n  }\n}\n\n// Helper to merge custom theme with default theme\nexport function createTheme(customTheme) {\n  return {\n    ...defaultTheme,\n    ...customTheme,\n  }\n} ","import { render } from \"./ChatWidget.vue?vue&type=template&id=727a6102\"\nimport script from \"./ChatWidget.vue?vue&type=script&lang=js\"\nexport * from \"./ChatWidget.vue?vue&type=script&lang=js\"\n\nimport \"./ChatWidget.vue?vue&type=style&index=0&id=727a6102&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport ChatWidget from './ChatWidget.vue'\nimport './styles.css'\n\nexport default {\n  name: 'ChatWidgetEntry',\n  ...ChatWidget\n}\n</script> ","import script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkSophosicChat\"] = self[\"webpackChunkSophosicChat\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(1988)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["root","factory","exports","module","define","amd","self","class","key","viewBox","xmlns","width","height","fill","stroke","_createElementBlock","_normalizeClass","$data","isChatOpen","style","_normalizeStyle","backgroundColor","currentTheme","messages","background","_createElementVNode","_hoisted_4","header","color","text","_hoisted_5","showHomeScreen","_createCommentVNode","onClick","_cache","$event","showStatusPage","messageList","length","$options","goToHome","title","type","d","_hoisted_6","_hoisted_7","_toDisplayString","showSystemStatus","apply","arguments","systemStatus","status","toLowerCase","_hoisted_8","downloadTranscript","points","x1","y1","x2","y2","resetSession","closeChat","isKeyboardOpen","_hoisted_9","_hoisted_10","startNewChat","_createTextVNode","_createVNode","_component_service_status","ref","onStatusChanged","_hoisted_11","previousChats","_hoisted_12","_Fragment","_renderList","displayedChats","chat","sessionId","loadChat","_hoisted_14","_hoisted_15","getChatPreview","_hoisted_16","formatDate","timestamp","_hoisted_13","showAllChats","_hoisted_17","_hoisted_18","href","target","rel","_createBlock","_component_system_status_page","services","_$data$serviceStatus","serviceStatus","onBack","_hoisted_19","_hoisted_20","message","idx","author","isBotThreadStart","hasFollowingBotMessage","isBotThreadMiddle","isBotThreadEnd","_hoisted_21","statusText","_hoisted_22","innerHTML","renderMarkdown","data","_hoisted_23","input","showTypingIndicator","console","log","newMessage","placeholder","onKeyup","_withKeys","sendMessage","onFocus","handleInputFocus","onBlur","handleInputBlur","disabled","_hoisted_24","trim","_hoisted_26","_hoisted_27","_hoisted_25","openChat","getMostRecentChatSummary","hidePreview","_withModifiers","resumeRecentChat","_hoisted_1","_hoisted_2","_hoisted_3","_$data$previousChats$","concat","launcher","boxShadow","shadow","overallStatus","isExpanded","getSummaryText","service","name","statusPageUrl","endpoint","model","components","namespace","details","contextLength","speed","pricing","output","checkInterval","methods","checkServiceStatus","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","componentStatuses","statusUrl","response","wrap","_context2","prev","next","Promise","all","map","_ref","_callee","component","_context","t0","abrupt","fetch","sent","json","indicator","t1","error","stop","_x","some","s","every","updateServiceStatus","checkAllServices","_this2","_callee3","_iterator","_step","_context3","_createForOfIteratorHelper","n","done","value","e","f","finish","this","mounted","_this3","setInterval","beforeUnmount","clearInterval","computed","watch","handler","newStatus","$emit","deep","__exports__","$props","expandedServices","toggleService","props","Array","required","Object","serviceName","$forceUpdate","colors","primary","secondary","white","gray","success","warning","defaultTheme","icons","buttons","hover","user","bot","border","button","default","active","preview","ok","warn","crit","API_URL","logError","context","process","__default__","ServiceStatus","SystemStatusPage","theme","participants","id","imageUrl","encodeURIComponent","apiUrl","newMessagesCount","isStatusHovered","chatSummary","viewportHeight","window","innerHeight","isMobileDevice","slice","isBotTyping","created","_objectSpread","loadSession","loadPreviousChats","rawText","welcomeMessage","setVH","method","headers","credentials","Error","extractMessage","addMessage","$nextTick","$refs","test","navigator","userAgent","addEventListener","handleViewportResize","visualViewport","vh","document","documentElement","setProperty","viewport","scrollToBottom","removeEventListener","savedSessionId","localStorage","getItem","createNewSession","Date","now","Math","random","toString","substr","setItem","archiveSession","onMessageWasSent","_data$find","requestBody","conversationSummary","botMessage","messageToAdd","i","currentChat","toISOString","JSON","stringify","metadata","body","isArray","find","item","summary","resolve","setTimeout","savePreviousChats","messageText","responseObj","agentResponse","split","msg","filter","replace","phoenixOffset","phoenixTime","getTime","getTimezoneOffset","_toConsumableArray","container","querySelector","scrollTop","scrollHeight","handleOnType","transcript","toLocaleString","timeZone","hour12","year","month","day","hour","minute","second","join","fileContent","blob","Blob","url","URL","createObjectURL","a","createElement","download","appendChild","click","revokeObjectURL","removeChild","isWelcomeMessage","isThreaded","savedChats","parse","sort","b","aLastMsg","bLastMsg","_firstNonWelcomeMessa","substring","firstNonWelcomeMessage","previewText","date","diffInMs","diffInDays","floor","diffInHours","diffInMinutes","time","toLocaleTimeString","toDateString","yesterday","setDate","getDate","toLocaleDateString","weekday","getFullYear","_this4","botMessages","lastMessage","existingChatIndex","findIndex","chatToSave","cleanText","marked","setOptions","breaks","sanitize","gfm","messagesWrapper","querySelectorAll","scrollTo","scrollIntoView","behavior","_window$visualViewpor","newHeight","keyboardHeight","getMostRecentChatPreview","recentChat","render","ChatWidget","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","splice","r","getter","__esModule","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}